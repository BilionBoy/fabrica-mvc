<%# ========================================
    CLIMASTOCK FORM TEMPLATE V3.0
    Formulário Ultra Moderno com Validação Visual
    ======================================== %>
<div class="climastock-page">
  <%# ========================================
      HEADER DO FORMULÁRIO COM ÍCONE DINÂMICO
      ======================================== %>
  <div class="climastock-page-header">
    <div class="climastock-header-content">
      <div class="climastock-header-left">
        <div class="climastock-icon-wrapper">
          <i class="ph-<%%= @<%= singular_table_name %>.new_record? ? 'plus-circle' : 'pen' %>"></i>
        </div>
        <div class="climastock-header-text">
          <h1 class="climastock-page-title">
            <%%= @<%= singular_table_name %>.new_record? ? "Novo" : "Editar" %> 
            <%%= <%= class_name %>.model_name.human %>
          </h1>
          <p class="climastock-page-subtitle">
            Preencha os campos abaixo para <%%= @<%= singular_table_name %>.new_record? ? "criar um novo" : "atualizar o" %> registro
          </p>
        </div>
      </div>
      <div class="climastock-header-right">
        <%%= link_to <%= index_helper %>_path, class: "climastock-btn climastock-btn-secondary" do %>
        <i class="ph-arrow-left"></i>
        <span>Voltar</span>
        <%% end %>
      </div>
    </div>
  </div>
  <%# ========================================
      FORMULÁRIO COM CARD GLASSMORPHISM
      ======================================== %>
  <%%= simple_form_for(@<%= singular_table_name %>, html: { class: "climastock-form" }) do |f| %>
  <div class="climastock-form-card">
    <%# ========================================
          ALERTAS DE ERRO COM DESIGN MODERNO
          ======================================== %>
    <%% if @<%= singular_table_name %>.errors.any? %>
    <div class="climastock-alert climastock-alert-danger">
      <div class="climastock-alert-icon">
        <i class="ph-warning-circle"></i>
      </div>
      <div class="climastock-alert-content">
        <h4 class="climastock-alert-title">
          <%%= pluralize(@<%= singular_table_name %>.errors.count, "erro") %> encontrado<%%= @<%= singular_table_name %>.errors.count > 1 ? "s" : "" %>
        </h4>
        <ul class="climastock-alert-list">
          <%% @<%= singular_table_name %>.errors.full_messages.each do |message| %>
          <li><%%= message %></li>
          <%% end %>
        </ul>
      </div>
    </div>
    <%% end %>
    <%# ========================================
          CAMPOS DO FORMULÁRIO EM GRID RESPONSIVO
          ======================================== %>
    <div class="climastock-form-body">
      <div class="climastock-form-grid">
        <% attributes.reject { |attr| attr.name.in?(%w[deleted_at original_user_create last_user_update created_by updated_by]) }.each do |attribute| -%>
          <div class="climastock-form-group">
            <%%= f.<%= attribute.reference? ? :association : :input %> :<%= attribute.name %>,
            wrapper_html: { class: "climastock-input-wrapper" },
            input_html: { class: "climastock-input" },
            label_html: { class: "climastock-label" } %>
          </div>
        <% end -%>
      </div>
    </div>
    <%# ========================================
          RODAPÉ COM BOTÕES DE AÇÃO
          ======================================== %>
    <div class="climastock-form-footer">
      <div class="climastock-form-actions">
        <%%= link_to <%= index_helper %>_path, class: "climastock-btn climastock-btn-outline" do %>
        <i class="ph-x"></i>
        <span>Cancelar</span>
        <%% end %>
        <%%= f.button :submit, 
                class: "climastock-btn climastock-btn-primary" do %>
          <i class="ph-check-circle"></i>
          <span><%%= @<%= singular_table_name %>.new_record? ? "Criar Registro" : "Salvar Alterações" %></span>
          <%% end %>
        </div>
      </div>
    </div>
    <%% end %>
  </div>