<%# ========================================
    CLIMASTOCK INDEX TEMPLATE V3.0
    Template Ultra Moderno com Design System Avançado
    ======================================== %>
<div class="climastock-page">
  <%# ========================================
      HEADER DA PÁGINA COM GRADIENTE E ANIMAÇÕES
      ======================================== %>
  <div class="climastock-page-header">
    <div class="climastock-header-content">
      <div class="climastock-header-left">
        <div class="climastock-icon-wrapper">
          <i class="ph-stack"></i>
        </div>
        <div class="climastock-header-text">
          <h1 class="climastock-page-title">
            <%%= t("activerecord.models.#{<%= class_name %>.model_name.i18n_key}.other") %>
          </h1>
          <p class="climastock-page-subtitle">Gerencie seus registros de forma eficiente e moderna</p>
        </div>
      </div>
      <div class="climastock-header-right">
        <%%= link_to new_<%= singular_table_name %>_path, class: "climastock-btn climastock-btn-primary" do %>
        <i class="ph-plus-circle"></i>
        <span>Novo Registro</span>
        <%% end %>
      </div>
    </div>
  </div>
  <%# ========================================
      BARRA DE BUSCA AVANÇADA COM GLASSMORPHISM
      ======================================== %>
  <div class="climastock-search-section">
    <%%= search_form_for @q, html: { class: "climastock-search-form", autocomplete: "off" } do |f| %>
      <div class="climastock-search-wrapper">
        <i class="ph-magnifying-glass climastock-search-icon"></i>
        <%%= f.search_field :<%= attributes[0].name %>_cont, 
        class: "climastock-search-input", 
        placeholder: "Buscar registros..." %>
        <%%= f.button type: 'submit', class: 'climastock-search-btn' do %>
          <span>Buscar</span>
          <%% end %>
          <%% if params[:q] %>
          <%%= link_to <%= plural_table_name %>_path, class: "climastock-clear-btn" do %>
          <i class="ph-x-circle"></i>
          <span>Limpar</span>
          <%% end %>
          <%% end %>
        </div>
        <%% end %>
      </div>
      <%# ========================================
      GRID DE CARDS COM EFEITOS 3D E HOVER
      ======================================== %>
      <div class="climastock-cards-grid">
        <%% @<%= plural_table_name %>.each do |<%= singular_table_name %>| %>
        <div class="climastock-card">
          <%# Header do Card com Badge Gradiente %>
          <div class="climastock-card-header">
            <div class="climastock-card-badge">
              <i class="ph-cube"></i>
            </div>
            <div class="climastock-card-actions">
              <div class="climastock-dropdown">
                <button class="climastock-dropdown-toggle" data-bs-toggle="dropdown">
                  <i class="ph-dots-three-vertical"></i>
                </button>
                <div class="dropdown-menu dropdown-menu-end climastock-dropdown-menu">
                  <%%= link_to edit_<%= singular_table_name %>_path(<%= singular_table_name %>), class: "climastock-dropdown-item" do %>
                  <i class="ph-pen"></i>
                  <span>Editar</span>
                  <%% end %>
                  <%%= form_for <%= singular_table_name %>, method: :delete do |f| %>
                  <a class="climastock-dropdown-item climastock-dropdown-item-danger" 
                     data-confirm-delete="<%%= <%= singular_table_name %>_path(<%= singular_table_name %>) %>" 
                    data-csrf-token="<%%= form_authenticity_token %>">
                    <i class="ph-trash"></i>
                    <span>Excluir</span>
                  </a>
                  <%% end %>
                </div>
              </div>
            </div>
          </div>
          <%# Body do Card com Campos Estilizados %>
          <div class="climastock-card-body">
            <% attributes_to_ignore = ['deleted_at', 'original_user_create', 'last_user_update', 'created_by', 'updated_by'] %>
            <%- attributes.reject { |attr| attributes_to_ignore.include?(attr.name) }.first(4).each do |attribute| -%>
              <div class="climastock-card-field">
                <span class="climastock-field-label">
                  <%%= t("activerecord.attributes.<%= singular_table_name %>.<%= attribute.name %>") %>
                </span>
                <span class="climastock-field-value">
                  <%%= <%= singular_table_name %>.<%= attribute.name %> %>
                </span>
              </div>
            <%- end -%>
          </div>
          <%# Footer do Card com Link Animado %>
          <div class="climastock-card-footer">
            <%%= link_to <%= singular_table_name %>_path(<%= singular_table_name %>), class: "climastock-card-link" do %>
            <span>Ver detalhes</span>
            <i class="ph-arrow-right"></i>
            <%% end %>
          </div>
        </div>
        <%% end %>
      </div>
      <%# ========================================
      PAGINAÇÃO MODERNA
      ======================================== %>
      <div class="climastock-pagination">
        <%%= pagy_bootstrap_nav(@pagy, link_extra: 'class="climastock-page-link"').html_safe %>
      </div>
    </div>